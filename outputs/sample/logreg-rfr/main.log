[2025-07-07 11:44:44,585][__main__][INFO] - Starting main workflow
[2025-07-07 11:44:44,602][__main__][INFO] - Loading datasets
[2025-07-07 11:44:44,602][DataLoader][INFO] - Loading Excel file from /app/data/raw/DataScientist_CaseStudy_Dataset.xlsx
[2025-07-07 11:44:44,970][__main__][INFO] - Created sales data split
[2025-07-07 11:44:44,971][Preprocessor][INFO] - Model split: 775 train clients, 194 test clients
[2025-07-07 11:44:44,994][Preprocessor][INFO] - Saved train/test splits to ./preprocessed
[2025-07-07 11:44:44,995][__main__][INFO] - Created train/test split
[2025-07-07 11:44:44,998][__main__][INFO] - Merged training datasets
[2025-07-07 11:44:44,998][__main__][INFO] - Training dataset shape: (775, 36)
[2025-07-07 11:44:44,999][__main__][INFO] - Preprocessing pipeline created
[2025-07-07 11:44:44,999][__main__][INFO] - Processing product CL
[2025-07-07 11:44:44,999][__main__][INFO] - Processing product MF
[2025-07-07 11:44:45,000][__main__][INFO] - Processing product CC
[2025-07-07 11:44:45,001][__main__][INFO] - Training models for CL
[2025-07-07 11:44:45,002][__main__][INFO] - Training models for MF
[2025-07-07 11:44:45,003][__main__][INFO] - Training models for CC
[2025-07-07 11:44:45,249][PropensityTrainer][INFO] - Starting cross validation with scoring=f1 and 5 folds
[2025-07-07 11:44:45,251][PropensityTrainer][INFO] - Starting cross validation with scoring=f1 and 5 folds
[2025-07-07 11:44:45,252][PropensityTrainer][INFO] - Starting cross validation with scoring=f1 and 5 folds
[2025-07-07 11:44:45,577][PropensityTrainer][INFO] - Cross validation completed: train_score=0.4842, test_score=0.4009
[2025-07-07 11:44:45,641][PropensityTrainer][INFO] - Cross validation completed: train_score=0.3620, test_score=0.2788
[2025-07-07 11:44:45,657][PropensityTrainer][INFO] - Cross validation completed: train_score=0.2988, test_score=0.1940
[2025-07-07 11:44:49,216][PropensityTrainer][INFO] - Model saved to ./models/propensity/CL/LogisticRegression.joblib
[2025-07-07 11:44:49,216][PropensityTrainer][INFO] - Metadata saved to ./models/propensity/CL/LogisticRegression_metadata.json
[2025-07-07 11:44:49,245][RevenueTrainer][INFO] - Starting cross validation with scoring=neg_root_mean_squared_error and 5 folds
[2025-07-07 11:44:49,727][PropensityTrainer][INFO] - Model saved to ./models/propensity/CC/LogisticRegression.joblib
[2025-07-07 11:44:49,728][PropensityTrainer][INFO] - Metadata saved to ./models/propensity/CC/LogisticRegression_metadata.json
[2025-07-07 11:44:49,782][RevenueTrainer][INFO] - Starting cross validation with scoring=neg_root_mean_squared_error and 5 folds
[2025-07-07 11:44:49,824][PropensityTrainer][INFO] - Model saved to ./models/propensity/MF/LogisticRegression.joblib
[2025-07-07 11:44:49,825][PropensityTrainer][INFO] - Metadata saved to ./models/propensity/MF/LogisticRegression_metadata.json
[2025-07-07 11:44:49,862][RevenueTrainer][INFO] - Starting cross validation with scoring=neg_root_mean_squared_error and 5 folds
[2025-07-07 11:44:51,218][RevenueTrainer][INFO] - Cross validation completed: train_score=-2.9735, test_score=-7.7131
[2025-07-07 11:44:51,459][RevenueTrainer][INFO] - Cross validation completed: train_score=-5.8739, test_score=-13.7051
[2025-07-07 11:44:51,536][RevenueTrainer][INFO] - Cross validation completed: train_score=-2.7227, test_score=-6.6550
[2025-07-07 11:44:53,371][RevenueTrainer][INFO] - Model saved to ./models/revenue/CL/RandomForestRegressor.joblib
[2025-07-07 11:44:53,373][RevenueTrainer][INFO] - Metadata saved to ./models/revenue/CL/RandomForestRegressor_metadata.json
[2025-07-07 11:44:53,396][__main__][INFO] - Finished training models for CL
[2025-07-07 11:44:53,672][RevenueTrainer][INFO] - Model saved to ./models/revenue/CC/RandomForestRegressor.joblib
[2025-07-07 11:44:53,672][RevenueTrainer][INFO] - Metadata saved to ./models/revenue/CC/RandomForestRegressor_metadata.json
[2025-07-07 11:44:53,682][RevenueTrainer][INFO] - Model saved to ./models/revenue/MF/RandomForestRegressor.joblib
[2025-07-07 11:44:53,682][RevenueTrainer][INFO] - Metadata saved to ./models/revenue/MF/RandomForestRegressor_metadata.json
[2025-07-07 11:44:53,684][__main__][INFO] - Finished training models for CC
[2025-07-07 11:44:53,689][__main__][INFO] - Finished training models for MF
[2025-07-07 11:44:53,690][__main__][INFO] - Starting inference
[2025-07-07 11:44:53,690][__main__][INFO] - Merging datasets for inference
[2025-07-07 11:44:53,693][__main__][INFO] - Running propensity and revenue inference
[2025-07-07 11:44:53,694][ModelLoader][INFO] - Loaded model from models/propensity/CL/LogisticRegression.joblib
[2025-07-07 11:44:53,697][ModelLoader][INFO] - Loaded model from models/propensity/MF/LogisticRegression.joblib
[2025-07-07 11:44:53,700][ModelLoader][INFO] - Loaded model from models/propensity/CC/LogisticRegression.joblib
[2025-07-07 11:44:53,704][ModelLoader][INFO] - Loaded model from models/revenue/CL/RandomForestRegressor.joblib
[2025-07-07 11:44:53,724][ModelLoader][INFO] - Loaded model from models/revenue/MF/RandomForestRegressor.joblib
[2025-07-07 11:44:53,743][ModelLoader][INFO] - Loaded model from models/revenue/CC/RandomForestRegressor.joblib
[2025-07-07 11:44:53,763][__main__][INFO] - Saving inference results
[2025-07-07 11:44:53,767][PropensityInference][INFO] - Saved inference results to /app/outputs/2025-07-07/11-44-44/inference/propensity_predictions.csv
[2025-07-07 11:44:53,770][RevenueInference][INFO] - Saved inference results to /app/outputs/2025-07-07/11-44-44/inference/revenue_predictions.csv
[2025-07-07 11:44:53,770][__main__][INFO] - Starting optimization
[2025-07-07 11:44:53,770][__main__][INFO] - Running optimization
[2025-07-07 11:44:53,800][__main__][INFO] - Starting evaluation
[2025-07-07 11:44:53,801][__main__][INFO] - Evaluating optimization results
[2025-07-07 11:44:53,801][__main__][INFO] - total_revenue: 1093.3813
[2025-07-07 11:44:53,801][__main__][INFO] - revenue_per_contact: 10.9338
[2025-07-07 11:44:53,801][__main__][INFO] - acceptance_rate: 0.6178
[2025-07-07 11:44:53,801][__main__][INFO] - roi: 10.9338
[2025-07-07 11:44:53,802][Evaluator][INFO] - Saved evaluation metrics to /app/outputs/2025-07-07/11-44-44/results/evaluation_metrics.csv
[2025-07-07 11:44:53,802][__main__][INFO] - Saving optimized offers
[2025-07-07 11:44:53,802][__main__][INFO] - Saving optimized offers
